<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobilizing Citizenship Toolkit - Kunsthall Stavanger</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.3/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.3/jquery-ui.min.js"></script>
</head>

<body>
    <main id="library">
        <div class="storage" id="deg_0">
            <a href="what-we-hold-sacred" class="entry" id="en-1-1">
                <div>What We Hold Sacred: A workshop on
                    altar-Making</div>
            </a>
            <a href="hey-hey-look-at-me" class="entry" id="en-1-2">
                <div>Hey, Hey, Look at Me!: Lex
                    Brown on Clowns, Citizenship, and the Power of Play</div>
            </a>
            <a href="foreword-lee" class="entry" id="en-1-3">
                <div>Introducing the Mobilizing Citizenship Toolkit
                </div>
            </a>
            <div class="brick" id="brk-1-1">

            </div>
            <div class="brick" id="brk-1-2"></div>
            <div class="brick" id="brk-1-3"></div>
        </div>
        <div class="storage" id="deg_90">
            <div class="entry" id="en-2-1">Kunsthall Stavanger</div>
            <a href="self-as-archive" class="entry" id="en-2-2">
                <div>Self as Archive: A workshop on Erasure +
                    World-Building</div>
            </a>
            <div class="entry" id="en-2-3"></div>
            <a href="youth-workers" class="entry" id="en-2-4">
                <div>How Youth Workers Create Meaningful Encounters for
                    Young People</div>
            </a>
            <div class="brick" id="brk-2-1"></div>
        </div>
        <div class="storage" id="deg_180">
            <a href="foreword-kristina" class="entry" id="en-3-1">
                <div>A Reflection on Mobilizing Citizenship</div>
            </a>
            <a href="are-you-listening" class="entry" id="en-3-2">
                <div>Are You Listening? Deep Listening as Youth
                    Pedagogy</div>
            </a>
            <a href="contributor.html" class="entry" id="en-3-3">
                <div>Contributors</div>
            </a>
            <div class="brick" id="brk-3-1"></div>
            <div class="brick" id="brk-3-2"></div>
        </div>
        <div class="storage" id="deg_270">
            <a href="let-me-be-for-you" class="entry" id="en-4-1">
                <div>Let Me Be for You What I Needed When I Was Your
                    Age</div>
            </a>
            <div class="entry random-btn" id="en-4-2">Random</div>
            <div class="entry" id="en-4-3"></div>
            <a href="a-space-for-agency" class="entry" id="en-4-4">
                <div>A Space for Agency: Walk of Shame on Cultivating
                    Collective Care in Education
                </div>
            </a>
            <div class="brick" id="brk-4-1">
            </div>
        </div>
    </main>
    <aside>
        <div class="top">
            <div id="home">
                <h3>Mobilizing</h3>
                <h3>Citizenship</h3>
                <h3>Toolkit</h3>
            </div>

        </div>

        <div class="bottom">
            <div class="summary">
                Mobilizing Citizenship (MC) was an educational and research project held at Kunstall Stavanger between
                2018 and 2024, which invited both Norwegian and international artists as well as designers to
                collaborate with young people aged 12–16. Each term explored how participants could use tools and
                methods from contemporary art to express themselves and make their voices heard. This toolkit captures
                the knowledge, experiences, and reflections developed over the course of the project.
            </div>
            <div id="about">
                <p>
                    This toolkit is produced by <a href="https://kunsthallstavanger.no/" target="_blank">Kunsthall
                        Stavanger</a></p>
            </div>
        </div>

        <ul id="menu">
            <li class="bg-pk"><a href="foreword-kristina">A Reflection on Mobilizing Citizenship</a></li>
            <li class="bg-pk"><a href="foreword-lee">Introducing the Mobilizing Citizenship Toolkit</a></li>
            <li class="bg-bl"><a href="a-space-for-agency">A Space for Agency: Walk of Shame on Cultivating
                    Collective Care in Education</a></li>
            <li class="bg-bl"><a href="hey-hey-look-at-me">Hey, Hey, Look at Me!: Lex Brown on Clowns, Citizenship, and
                    the Power of
                    Play</a>
            </li>
            <li class="bg-bl"><a href="are-you-listening">Are You Listening? Deep Listening as Youth Pedagogy</a>
            </li>
            <li class="bg-bl"><a href="self-as-archive">Self as Archive: A workshop on Erasure + World-Building</a></li>
            <li class="bg-bl"><a href="what-we-hold-sacred">What We Hold Sacred: A Workshop on Altar-Making</a>
            </li>
            <li class="bg-br"><a href="let-me-be-for-you">Let Me Be for You What I Needed When I Was Your Age</a>
            </li>
            <li class="bg-br"><a href="youth-workers">How Youth Workers Create Meaningful Encounters for Young
                    People</a></li>
            <li class="bg-gr random-btn">Random</li>
            <li class="bg-gr"><a href="contributor">Contributors</a></li>
            <li class="bg-gr">Kunsthall Stavanger</li>
            <li id="footnote">This toolkit is produced by <a href="https://kunsthallstavanger.no/"
                    target="_blank">Kunsthall
                    Stavanger</a></li>
        </ul>
    </aside>

    <div id="hover-wrapper">
        <p class="blink">press to rotate the menu</p>
        <div class="quote" id="quote"></div>
        <div class="q-text" id="q-text">
        </div>
        <div class="collage" id="collage"></div>
        <button id="rotate-btn" title="rotate the menu">
            <img src="img/rotate-right.svg">
        </button>
    </div>


    <audio src="assets/knock.wav" class="sound" id="knock-sound"></audio>
    <audio src="https://raw.githubusercontent.com/cartalan/Xilofono-Exercise/master/sound/1-DO.mp3" class="sound"
        id="sound1"></audio>
    <audio src="https://raw.githubusercontent.com/cartalan/Xilofono-Exercise/master/sound/2-RE.mp3" class="sound"
        id="sound2"></audio>
    <audio src="https://raw.githubusercontent.com/cartalan/Xilofono-Exercise/master/sound/3-MI.mp3" class="sound"
        id="sound3"></audio>
    <audio src="https://raw.githubusercontent.com/cartalan/Xilofono-Exercise/master/sound/4-FA.mp3" class="sound"
        id="sound4"></audio>
    <audio src="https://raw.githubusercontent.com/cartalan/Xilofono-Exercise/master/sound/5-SOL.mp3" class="sound"
        id="sound5"></audio>
    <audio src="https://raw.githubusercontent.com/cartalan/Xilofono-Exercise/master/sound/6-LA.mp3" class="sound"
        id="sound6"></audio>
    <audio src="https://raw.githubusercontent.com/cartalan/Xilofono-Exercise/master/sound/7-SI.mp3" class="sound"
        id="sound7"></audio>
    <audio src="https://raw.githubusercontent.com/cartalan/Xilofono-Exercise/master/sound/8-DO.mp3" class="sound"
        id="sound8"></audio>

    <script>
        $(function () {
            // rotation button //
            const $library = $('#library');
            const rotations = [0, 90, 180, 270];
            const randomRotation = rotations[Math.floor(Math.random() * rotations.length)];
            $library.css('transform', `rotate(${randomRotation}deg)`);

            const $rotateBtn = $('#rotate-btn');
            let currentRotation = 0;
            $rotateBtn.on('click', () => {
                $(".blink").hide();
                currentRotation = (currentRotation + 90) % 360;
                $library.css('transform', `rotate(${currentRotation}deg)`);
            });

            /* ===== Collage ===== */
            const images = [
                "img/walk-of-shame/dare 2.webp",
                "img/walk-of-shame/face 2.webp",
                "img/walk-of-shame/fish 2.webp",
                "img/walk-of-shame/heart 2.webp",
                "img/walk-of-shame/sign 2.webp",
                "img/walk-of-shame/sripe 2.webp",
                "img/walk-of-shame/MC_avsluttning_037WEB.webp",
                "img/walk-of-shame/MC_avsluttning_077WEB.webp",
                "img/walk-of-shame/MC_avsluttning_067WEB.webp",
                "img/walk-of-shame/MC_avsluttning_086WEB.webp",
                "img/walk-of-shame/MC_avsluttning_090WEB.webp",
                "img/walk-of-shame/P1050196.webp",
                "img/are-you-listening/MC_Kunsthall_GoldsmithsAlchemy_05WEB.webp",
                "img/are-you-listening/MC_Kunsthall_GoldsmithsAlchemy_13WEB.webp",
                "img/are-you-listening/MC_Kunsthall_GoldsmithsAlchemy_57WEB.webp",
                "img/are-you-listening/image2.jpg",
                "img/are-you-listening/image3.jpg",
                "img/are-you-listening/image4.jpg",
                "img/are-you-listening/image5.webp",
                "img/hey-hey-look-at-me/MobilizingCitizenship_Drama_207WEB.webp",
                "img/hey-hey-look-at-me/MobilizingCitizenship_Drama_216WEB.webp",
                "img/hey-hey-look-at-me/MobilizingCitizenship_Drama_132WEB.webp",
                "img/hey-hey-look-at-me/MobilizingCitizenship_Drama_166WEB.webp",
                "img/let-me-be-for-you/MC_2023_003_WEB.webp",
                "img/let-me-be-for-you/MC_2023_005_WEB.webp",
                "img/let-me-be-for-you/MC_2023_073_WEB.webp",
                "img/let-me-be-for-you/MC_2023_040_WEB.webp",
                "img/let-me-be-for-you/MC_2023_061_WEB.webp",
                "img/let-me-be-for-you/MC_2023_073_WEB.webp",
                "img/let-me-be-for-you/MC_2023_084_WEB.webp",
                "img/self-as-archive/1.webp",
                "img/self-as-archive/work-2.webp",
                "img/self-as-archive/work-3.webp",
                "img/self-as-archive/work-4.webp",
                "img/what-we-hold-sacred/Copy of 12032021 BFI Art Talk and Demo High Res-203.webp",
                "img/what-we-hold-sacred/Copy of IMG_0449.webp",
                "img/what-we-hold-sacred/MC_2023_029_WEB.webp",
                "img/what-we-hold-sacred/MC_2023_046_WEB.webp",
                "img/youth-workers/MC_Kunsthall_GoldsmithsAlchemy_Finale_145WEB.webp",
                "img/youth-workers/MC_Kunsthall_GoldsmithsAlchemy_34WEB.webp",
                "img/youth-workers/MC_avsluttning_081WEB.webp",
                "img/youth-workers/20221002_094631 2.webp",
                "img/contributor/Chire Regans photo by Helle Navratil.webp",
                "img/contributor/Delali Ayivor-photo by Helle Navratil.webp",
                "img/contributor/K K Bore Photo Helle Navratil.webp",
                "img/contributor/Lee Heinemann-photo by Helle Navratil.webp",
                "img/contributor/Lex Brown-photo by Helle Navratil.webp",
                "img/contributor/Loni Johnson - photo by Helle Navratil.webp",
                "img/contributor/Mikey Kirkpatrick-photo by Helle Navratil.webp",
                "img/contributor/Trine Ottosen- photo by Helle.webp",
            ];


            const collage = document.getElementById("collage");
            let zCounter = 1;
            let collageTimeout = null;
            let lastAddedAbs = null; // absolute URL of last added image

            function randomBetween(min, max) {
                return Math.random() * (max - min) + min;
            }

            function randomMultiple(min, max, step) {
                const range = Math.floor((max - min) / step);
                return min + step * Math.floor(Math.random() * (range + 1));
            }

            // helper to get absolute URL from a relative path in `images`
            function toAbs(src) {
                return new URL(src, location.href).href;
            }

            // create one image element
            function createImage(src) {
                const img = document.createElement("img");
                img.src = src; // browser will resolve to absolute
                const left = randomMultiple(5, 25, 5);   // multiples of 5vh
                const top = randomMultiple(5, 20, 5);    // multiples of 5vh
                const rotate = randomMultiple(-15, 15, 5);

                Object.assign(img.style, {
                    left: `${left}vh`,
                    top: `${top}vh`,
                    transform: `rotate(${rotate}deg)`,
                    zIndex: zCounter++,
                });

                return img;
            }

            function addRandomImage() {
                const currentAbs = Array.from(collage.querySelectorAll("img"))
                    .map(img => new URL(img.getAttribute('src') || img.src, location.href).href);

                // build absolute pool of available images that are not currently displayed
                const availableAbs = images
                    .map(toAbs)
                    .filter(abs => !currentAbs.includes(abs) && abs !== lastAddedAbs);

                // if none available (all images on screen or only lastAdded would remain),
                // allow picking anything except the lastAdded to avoid immediate repeat
                let pool = availableAbs.length ? availableAbs : images.map(toAbs).filter(abs => abs !== lastAddedAbs);

                if (!pool.length) return; // nothing we can pick safely

                const pickAbs = pool[Math.floor(Math.random() * pool.length)];

                // convert absolute URL back to a relative-ish form for img.src using URL.pathname+search+hash
                // (or simply set img.src = pickAbs; both are fine)
                const img = createImage(pickAbs);
                collage.appendChild(img);

                lastAddedAbs = new URL(img.src, location.href).href;

                setTimeout(() => {
                    if (img.parentElement) img.remove();
                }, 4000);
            }

            function startCollage() {
                if (collageTimeout) return; // already running
                function tick() {
                    const delay = randomBetween(1000, 2000);
                    collageTimeout = setTimeout(() => {
                        addRandomImage();
                        tick();
                    }, delay);
                }
                tick();
            }

            function stopCollage() {
                if (collageTimeout) {
                    clearTimeout(collageTimeout);
                    collageTimeout = null;
                }
            }

            // Title Hovering and Collage Restart
            const entryTexts = {
                'en-1-1': 'What do we owe to the people who came before us and how do we remember them? For artist and educator Loni Johnson, remembrance isn’t passive. It’s an act of resistance, reclamation, and radical care.',
                'en-1-2': 'Lex Brown unpacks the personal, political, and artistic impulses behind the workshop—from her theatrical clown training to the subtle genius of teenage melodrama, and why play might be one of the most radical tools we have.',
                'en-2-2': 'Ayivor opened the week by presenting her work and creative prompts that drew from personal drama and popular media. Here, she introduces and outlines the activities in her workshop.',
                'en-2-4': 'In a conversation with curator Kristina Ketola Bore, Trine Ottosen delves into the vital role of youth work in shaping inclusive, responsive educational spaces within art institutions.',
                'en-3-2': 'Mikey Kirkpatrick traces the process of building an environment where agency is nurtured, structure is flexible, and the act of making music becomes a practice of empowerment and shared responsibility.',
                'en-4-1': 'Artists Loni Johnson and Chire Regans look back on their history as collaborators and their experience travelling to Kunsthall Stavanger to lead a week-long Mobilizing Citizenship intensive in 2023.',
                'en-4-2': 'Let’s discover!',
                'en-4-4': 'In this reflective overview, Walk of Shame share their approach to crafting environments that nurture agency, spark dialogue, and foster collective creativity.'
            };

            $('.entry').hover(
                function () {
                    const $link = $(this).find('a');
                    const newQuote = $link.length ? $link.text() : $(this).text();
                    const newText = entryTexts[this.id] || '';

                    $('#collage').css('display', 'none');
                    stopCollage();

                    $('#quote, #q-text').css('display', 'block');
                    $('#quote').text(newQuote).addClass('visible');
                    $('#q-text').text(newText).addClass('visible');
                },
                function () {
                    $('#collage').empty().css('display', 'block'); // clear old images
                    zCounter = 1; // reset z-index
                    startCollage();

                    $('#quote, #q-text').css('display', 'none').removeClass('visible');
                }
            );

            startCollage();

            // Empty Entry
            function setupEmptyEntryInteractions() {
                const knockSound = $('#knock-sound')[0];
                $('.entry:empty, .brick:empty').each(function () {
                    let played = false;
                    $(this).on('mouseenter', () => {
                        if (!played) {
                            knockSound.currentTime = 0;
                            knockSound.play();
                            played = true;
                            setTimeout(() => played = false, knockSound.duration * 1000 || 1000);
                        }
                    });
                });
            }

            setupEmptyEntryInteractions();

            // Random article function
            const articles = [
                "foreword-kristina",
                "foreword-lee",
                "a-space-for-agency",
                "hey-hey-look-at-me",
                "are-you-listening",
                "self-as-archive",
                "what-we-hold-sacred",
                "let-me-be-for-you",
                "youth-workers"
            ];

            function goToRandomArticle() {
                let randomIndex;
                do {
                    randomIndex = Math.floor(Math.random() * articles.length);
                } while (randomIndex === lastIndex);

                lastIndex = randomIndex;
                window.location.href = articles[randomIndex];
            }

            document.querySelector(".random-btn").addEventListener("click", goToRandomArticle);

            let lastIndex = -1;



            // setupXylophoneEffect //
            function setupXylophoneEffect() {
                const homeWords = $('#home h3');
                const sounds = [1, 2, 3, 4, 5, 6, 7, 8].map(i => document.getElementById(`sound${i}`));
                let soundCounter = 0;

                homeWords.each(function () {
                    const $word = $(this);
                    const text = $word.text();
                    $word.empty();

                    for (let i = 0; i < text.length; i++) {
                        const $letter = $('<span>').addClass('letter').text(text[i]);
                        const soundIndex = soundCounter % sounds.length;
                        $letter.on('mouseenter', () => {
                            sounds[soundIndex].currentTime = 0;
                            sounds[soundIndex].play();
                        });
                        $word.append($letter);
                        soundCounter++;
                    }
                });
            }

            setupXylophoneEffect();
        });


    </script>
</body>

</html>